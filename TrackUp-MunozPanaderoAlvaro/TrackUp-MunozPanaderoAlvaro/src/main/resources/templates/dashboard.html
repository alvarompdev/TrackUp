<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - TrackUp</title>
  <link rel="stylesheet" th:href="@{/css/dashboard.css}" />
</head>
<body>
<!-- Contenedor principal -->
<div class="dashboard-container">
  <!-- Menú lateral -->
  <aside class="sidebar">
    <h3>MENÚ</h3>
    <ul>
      <li><a href="/habits">Hábitos</a></li>
      <li><a href="/goals">Metas</a></li>
      <li><a href="/records">Registros Diarios</a></li>
      <li><a href="/profile">Perfil</a></li>
    </ul>
  </aside>

  <!-- Contenido principal -->
  <main class="main-content">
    <!-- Bienvenida -->
    <header class="welcome-header">
      <h1 th:text="'¡Bienvenido, ' + ${#authentication.principal.username} + '!'">¡Bienvenido, usuario!</h1>
    </header>

    <!-- Resúmenes -->
    <section class="summary-section">
      <h2>Resúmenes Actuales</h2>

      <!-- Hábitos -->
      <div class="summary-card">
        <h3>Hábitos</h3>
        <ul th:if="${habits != null and !habits.isEmpty()}">
          <li th:each="habit : ${habits}" th:text="${habit.name} + ' (' + ${habit.frequency} + ')'"></li>
        </ul>
        <p th:if="${habits == null or habits.isEmpty()}">No hay hábitos registrados.</p>
      </div>

      <!-- Metas -->
      <div class="summary-card">
        <h3>Metas</h3>
        <ul th:if="${goals != null and !goals.isEmpty()}">
          <li th:each="goal : ${goals}" th:text="${goal.name} + ' - ' + ${goal.description}"></li>
        </ul>
        <p th:if="${goals == null or goals.isEmpty()}">No hay metas registradas.</p>
      </div>

      <!-- Registros Diarios -->
      <div class="summary-card">
        <h3>Registros Diarios</h3>
        <ul th:if="${dailyRecords != null and !dailyRecords.isEmpty()}">
          <li th:each="record : ${dailyRecords}"
              th:text="${record.date} + ': ' + (${record.completed} ? '✔️ Completado' : '❌ Pendiente')">
          </li>
        </ul>
        <p th:if="${dailyRecords == null or dailyRecords.isEmpty()}">No hay registros diarios.</p>
      </div>
    </section>
  </main>
</div>
</body>
</html>